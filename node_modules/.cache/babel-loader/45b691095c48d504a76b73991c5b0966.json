{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anorak/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anorak/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";// Data\nimport{githubUsername,projectCardImages}from\"../data\";var initialState={error:\"\",isLoading:true,data:[]};export var url=\"https://api.github.com/users/\".concat(githubUsername,\"/repos\");export var fetchGitHubReops=createAsyncThunk(\"allProjects/fetchGitHubReops\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(thunkApi,_ref){var rejectWithValue,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rejectWithValue=_ref.rejectWithValue;_context.prev=1;_context.next=4;return fetch(url).then(function(res){if(!res.ok){throw new Error(res.status);}return res;});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;return _context.abrupt(\"return\",data);case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",rejectWithValue(\"Error: \".concat(_context.t0.message,\", check username in data.js (currently \").concat(githubUsername,\")\")));case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());export var allProjectsSlice=createSlice({name:\"allProjects\",initialState:initialState,extraReducers:function extraReducers(builder){builder.addCase(fetchGitHubReops.pending,function(state){state.isLoading=true;state.error=\"\";}).addCase(fetchGitHubReops.fulfilled,function(state,action){state.isLoading=false;state.data=action.payload;projectCardImages.forEach(function(element){state.data.forEach(function(el,i){if(element.name.toLowerCase()===el.name.toLowerCase()){el.image=element.image;}});});}).addCase(fetchGitHubReops.rejected,function(state,action){state.isLoading=false;state.error=action.payload;console.log(state.error);});}});export var selectIsLoading=function selectIsLoading(state){return state.allProjects.isLoading;};export var selectError=function selectError(state){return state.allProjects.error;};export var selectData=function selectData(state){return state.allProjects.data;};export default allProjectsSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","githubUsername","projectCardImages","initialState","error","isLoading","data","url","fetchGitHubReops","thunkApi","rejectWithValue","fetch","then","res","ok","Error","status","response","json","message","allProjectsSlice","name","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","forEach","element","el","i","toLowerCase","image","rejected","console","log","selectIsLoading","allProjects","selectError","selectData","reducer"],"sources":["/Users/anorak/Desktop/portfolio/src/pages/allProjectsSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n// Data\nimport { githubUsername, projectCardImages } from \"../data\";\n\nconst initialState = {\n  error: \"\",\n  isLoading: true,\n  data: [],\n};\n\nexport const url = `https://api.github.com/users/${githubUsername}/repos`;\n\nexport const fetchGitHubReops = createAsyncThunk(\n  \"allProjects/fetchGitHubReops\",\n  async (thunkApi, { rejectWithValue }) => {\n    try {\n      const response = await fetch(url).then(function (res) {\n        if (!res.ok) {\n          throw new Error(res.status);\n        }\n        return res;\n      });\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      return rejectWithValue(\n        `Error: ${err.message}, check username in data.js (currently ${githubUsername})`\n      );\n    }\n  }\n);\n\nexport const allProjectsSlice = createSlice({\n  name: \"allProjects\",\n  initialState,\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchGitHubReops.pending, (state) => {\n        state.isLoading = true;\n        state.error = \"\";\n      })\n      .addCase(fetchGitHubReops.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.data = action.payload;\n        projectCardImages.forEach(function (element) {\n          state.data.forEach((el, i) => {\n            if (element.name.toLowerCase() === el.name.toLowerCase()) {\n              el.image = element.image;\n            }\n          });\n        });\n      })\n      .addCase(fetchGitHubReops.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload;\n        console.log(state.error);\n      });\n  },\n});\n\nexport const selectIsLoading = (state) => state.allProjects.isLoading;\nexport const selectError = (state) => state.allProjects.error;\nexport const selectData = (state) => state.allProjects.data;\n\nexport default allProjectsSlice.reducer;\n"],"mappings":"0PAAA,OAASA,gBAAT,CAA2BC,WAA3B,KAA8C,kBAA9C,CACA;AACA,OAASC,cAAT,CAAyBC,iBAAzB,KAAkD,SAAlD,CAEA,GAAMC,aAAY,CAAG,CACnBC,KAAK,CAAE,EADY,CAEnBC,SAAS,CAAE,IAFQ,CAGnBC,IAAI,CAAE,EAHa,CAArB,CAMA,MAAO,IAAMC,IAAG,wCAAmCN,cAAnC,UAAT,CAEP,MAAO,IAAMO,iBAAgB,CAAGT,gBAAgB,CAC9C,8BAD8C,6FAE9C,iBAAOU,QAAP,2JAAmBC,eAAnB,MAAmBA,eAAnB,uCAE2BC,MAAK,CAACJ,GAAD,CAAL,CAAWK,IAAX,CAAgB,SAAUC,GAAV,CAAe,CACpD,GAAI,CAACA,GAAG,CAACC,EAAT,CAAa,CACX,KAAM,IAAIC,MAAJ,CAAUF,GAAG,CAACG,MAAd,CAAN,CACD,CACD,MAAOH,IAAP,CACD,CALsB,CAF3B,QAEUI,QAFV,qCAQuBA,SAAQ,CAACC,IAAT,EARvB,QAQUZ,IARV,+CASWA,IATX,4FAWWI,eAAe,kBACV,YAAIS,OADM,mDAC2ClB,cAD3C,MAX1B,uEAF8C,oEAAzC,CAoBP,MAAO,IAAMmB,iBAAgB,CAAGpB,WAAW,CAAC,CAC1CqB,IAAI,CAAE,aADoC,CAE1ClB,YAAY,CAAZA,YAF0C,CAG1CmB,aAAa,CAAE,uBAACC,OAAD,CAAa,CAC1BA,OAAO,CACJC,OADH,CACWhB,gBAAgB,CAACiB,OAD5B,CACqC,SAACC,KAAD,CAAW,CAC5CA,KAAK,CAACrB,SAAN,CAAkB,IAAlB,CACAqB,KAAK,CAACtB,KAAN,CAAc,EAAd,CACD,CAJH,EAKGoB,OALH,CAKWhB,gBAAgB,CAACmB,SAL5B,CAKuC,SAACD,KAAD,CAAQE,MAAR,CAAmB,CACtDF,KAAK,CAACrB,SAAN,CAAkB,KAAlB,CACAqB,KAAK,CAACpB,IAAN,CAAasB,MAAM,CAACC,OAApB,CACA3B,iBAAiB,CAAC4B,OAAlB,CAA0B,SAAUC,OAAV,CAAmB,CAC3CL,KAAK,CAACpB,IAAN,CAAWwB,OAAX,CAAmB,SAACE,EAAD,CAAKC,CAAL,CAAW,CAC5B,GAAIF,OAAO,CAACV,IAAR,CAAaa,WAAb,KAA+BF,EAAE,CAACX,IAAH,CAAQa,WAAR,EAAnC,CAA0D,CACxDF,EAAE,CAACG,KAAH,CAAWJ,OAAO,CAACI,KAAnB,CACD,CACF,CAJD,EAKD,CAND,EAOD,CAfH,EAgBGX,OAhBH,CAgBWhB,gBAAgB,CAAC4B,QAhB5B,CAgBsC,SAACV,KAAD,CAAQE,MAAR,CAAmB,CACrDF,KAAK,CAACrB,SAAN,CAAkB,KAAlB,CACAqB,KAAK,CAACtB,KAAN,CAAcwB,MAAM,CAACC,OAArB,CACAQ,OAAO,CAACC,GAAR,CAAYZ,KAAK,CAACtB,KAAlB,EACD,CApBH,EAqBD,CAzByC,CAAD,CAApC,CA4BP,MAAO,IAAMmC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACb,KAAD,QAAWA,MAAK,CAACc,WAAN,CAAkBnC,SAA7B,EAAxB,CACP,MAAO,IAAMoC,YAAW,CAAG,QAAdA,YAAc,CAACf,KAAD,QAAWA,MAAK,CAACc,WAAN,CAAkBpC,KAA7B,EAApB,CACP,MAAO,IAAMsC,WAAU,CAAG,QAAbA,WAAa,CAAChB,KAAD,QAAWA,MAAK,CAACc,WAAN,CAAkBlC,IAA7B,EAAnB,CAEP,cAAec,iBAAgB,CAACuB,OAAhC"},"metadata":{},"sourceType":"module"}