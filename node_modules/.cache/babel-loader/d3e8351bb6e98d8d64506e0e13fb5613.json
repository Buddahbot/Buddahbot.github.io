{"ast":null,"code":"import React from\"react\";import{useAppContext}from\"./appContext\";import{useDispatch,useSelector}from\"react-redux\";import{fetchGitHubInfo,selectError,selectIsLoading}from\"./pages/homeSlice\";import{fetchGitHubReops}from\"./pages/allProjectsSlice\";import{HashRouter,Routes,Route}from\"react-router-dom\";import{ThemeProvider}from\"styled-components\";// Components\nimport{Container}from\"react-bootstrap\";import{Loading}from\"./components/globalStyledComponents\";import ScrollToTop from\"./components/ScrollToTop\";import GlobalStyles from\"./components/GlobalStyles\";// Pages\nimport Home from\"./pages/Home\";import AllProjects from\"./pages/AllProjects\";import NotFound from\"./pages/NotFound\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var darkMode=window.matchMedia(\"(prefers-color-scheme: dark)\").matches;var themes={light:{name:\"light\",color:\"#45413C\",background:\"#ebe6e2\"},dark:{name:\"dark\",color:\"#FBFDFF\",background:\"#27272A\"}};export default function App(){var _useAppContext=useAppContext(),theme=_useAppContext.theme,setTheme=_useAppContext.setTheme;var isLoading=useSelector(selectIsLoading);var error=useSelector(selectError);var dispatch=useDispatch();React.useEffect(function(){var updateTheme=function updateTheme(){return darkMode?setTheme(\"dark\"):setTheme(\"light\");};updateTheme();dispatch(fetchGitHubInfo());dispatch(fetchGitHubReops());},[setTheme,dispatch]);window.matchMedia(\"(prefers-color-scheme: dark)\").addEventListener(\"change\",function(e){return e.matches?setTheme(\"dark\"):setTheme(\"light\");});if(isLoading){return/*#__PURE__*/_jsxs(ThemeProvider,{theme:themes[theme],children:[/*#__PURE__*/_jsx(GlobalStyles,{}),/*#__PURE__*/_jsx(Container,{className:\"d-flex vh-100 align-items-center\",children:/*#__PURE__*/_jsx(Loading,{})})]});}else if(error){return/*#__PURE__*/_jsxs(ThemeProvider,{theme:themes[theme],children:[/*#__PURE__*/_jsx(GlobalStyles,{}),/*#__PURE__*/_jsx(Container,{className:\"d-flex vh-100 align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"h2\",{children:error})})]});}else{return/*#__PURE__*/_jsxs(HashRouter,{children:[/*#__PURE__*/_jsx(ScrollToTop,{}),/*#__PURE__*/_jsxs(ThemeProvider,{theme:themes[theme],children:[/*#__PURE__*/_jsx(GlobalStyles,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/All-Projects\",element:/*#__PURE__*/_jsx(AllProjects,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})]})]});}}","map":{"version":3,"names":["React","useAppContext","useDispatch","useSelector","fetchGitHubInfo","selectError","selectIsLoading","fetchGitHubReops","HashRouter","Routes","Route","ThemeProvider","Container","Loading","ScrollToTop","GlobalStyles","Home","AllProjects","NotFound","darkMode","window","matchMedia","matches","themes","light","name","color","background","dark","App","theme","setTheme","isLoading","error","dispatch","useEffect","updateTheme","addEventListener","e"],"sources":["/Users/anorak/Desktop/portfolio/src/App.js"],"sourcesContent":["import React from \"react\";\nimport { useAppContext } from \"./appContext\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  fetchGitHubInfo,\n  selectError,\n  selectIsLoading,\n} from \"./pages/homeSlice\";\nimport { fetchGitHubReops } from \"./pages/allProjectsSlice\";\nimport { HashRouter, Routes, Route } from \"react-router-dom\";\nimport { ThemeProvider } from \"styled-components\";\n// Components\nimport { Container } from \"react-bootstrap\";\nimport { Loading } from \"./components/globalStyledComponents\";\nimport ScrollToTop from \"./components/ScrollToTop\";\nimport GlobalStyles from \"./components/GlobalStyles\";\n// Pages\nimport Home from \"./pages/Home\";\nimport AllProjects from \"./pages/AllProjects\";\nimport NotFound from \"./pages/NotFound\";\n\nconst darkMode = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\nconst themes = {\n  light: {\n    name: \"light\",\n    color: \"#45413C\",\n    background: \"#ebe6e2\",\n  },\n  dark: {\n    name: \"dark\",\n    color: \"#FBFDFF\",\n    background: \"#27272A\",\n  },\n};\n\nexport default function App() {\n  const { theme, setTheme } = useAppContext();\n  const isLoading = useSelector(selectIsLoading);\n  const error = useSelector(selectError);\n  const dispatch = useDispatch();\n\n  React.useEffect(\n    function () {\n      const updateTheme = () =>\n        darkMode ? setTheme(\"dark\") : setTheme(\"light\");\n      updateTheme();\n      dispatch(fetchGitHubInfo());\n      dispatch(fetchGitHubReops());\n    },\n    [setTheme, dispatch]\n  );\n\n  window\n    .matchMedia(\"(prefers-color-scheme: dark)\")\n    .addEventListener(\"change\", (e) =>\n      e.matches ? setTheme(\"dark\") : setTheme(\"light\")\n    );\n\n  if (isLoading) {\n    return (\n      <ThemeProvider theme={themes[theme]}>\n        <GlobalStyles />\n        <Container className=\"d-flex vh-100 align-items-center\">\n          <Loading />\n        </Container>\n      </ThemeProvider>\n    );\n  } else if (error) {\n    return (\n      <ThemeProvider theme={themes[theme]}>\n        <GlobalStyles />\n        <Container className=\"d-flex vh-100 align-items-center justify-content-center\">\n          <h2>{error}</h2>\n        </Container>\n      </ThemeProvider>\n    );\n  } else {\n    return (\n      <HashRouter>\n        <ScrollToTop />\n        <ThemeProvider theme={themes[theme]}>\n          <GlobalStyles />\n          <Routes>\n            <Route exact path=\"/\" element={<Home />} />\n            <Route path=\"/All-Projects\" element={<AllProjects />} />\n            <Route path=\"*\" element={<NotFound />} />\n          </Routes>\n        </ThemeProvider>\n      </HashRouter>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}