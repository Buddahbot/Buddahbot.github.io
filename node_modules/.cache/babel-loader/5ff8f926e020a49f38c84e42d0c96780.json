{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anorak/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anorak/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/anorak/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useAppContext}from\"../appContext\";// Data\nimport{formspreeUrl}from\"../data\";// Components\nimport{Alert,Button,Form,Spinner}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ContactForm(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isValidated=_React$useState2[0],setIsValidated=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isProcessing=_React$useState4[0],setIsProcessing=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),success=_React$useState6[0],setSuccess=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),danger=_React$useState8[0],setDanger=_React$useState8[1];var _React$useState9=React.useState(null),_React$useState10=_slicedToArray(_React$useState9,2),dangerMessage=_React$useState10[0],setDangerMessage=_React$useState10[1];var _useAppContext=useAppContext(),theme=_useAppContext.theme;function postData(_x){return _postData.apply(this,arguments);}function _postData(){_postData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(formspreeUrl,{method:\"POST\",body:JSON.stringify(data),headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}});case 2:response=_context.sent;return _context.abrupt(\"return\",response);case 4:case\"end\":return _context.stop();}}},_callee);}));return _postData.apply(this,arguments);}function handleSubmit(_x2){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var form,_form$elements,name,email,message,data,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:form=event.currentTarget;setSuccess(false);setDanger(false);setDangerMessage(null);if(form.checkValidity()===false){event.preventDefault();event.stopPropagation();}setIsValidated(true);_form$elements=form.elements,name=_form$elements.name,email=_form$elements.email,message=_form$elements.message;data={name:name.value,email:email.value,message:message.value};if(!form.checkValidity()){_context2.next=31;break;}event.preventDefault();event.persist();setIsProcessing(true);_context2.prev=12;_context2.next=15;return postData(data);case 15:response=_context2.sent;if(response.ok){_context2.next=18;break;}throw new Error(\"\".concat(response.status,\" \").concat(response.statusText,\", check formspreeUrl in data.js\"));case 18:setIsProcessing(false);setIsValidated(false);event.target.reset();setSuccess(true);_context2.next=31;break;case 24:_context2.prev=24;_context2.t0=_context2[\"catch\"](12);setIsProcessing(false);setIsValidated(false);event.target.reset();setDangerMessage(_context2.t0.message);setDanger(true);case 31:case\"end\":return _context2.stop();}}},_callee2,null,[[12,24]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Form,{noValidate:true,validated:isValidated,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Form.Group,{className:\"mx-auto mb-3 form-group\",controlId:\"name\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"Phone & Whatsapp: Zero Zero Three Four 661023622\"})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mx-auto mb-3 form-group\",controlId:\"email\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"Email: sebastian.sibila at gmail.com\"})})]})});}","map":{"version":3,"names":["React","useAppContext","formspreeUrl","Alert","Button","Form","Spinner","ContactForm","useState","isValidated","setIsValidated","isProcessing","setIsProcessing","success","setSuccess","danger","setDanger","dangerMessage","setDangerMessage","theme","postData","data","fetch","method","body","JSON","stringify","headers","Accept","response","handleSubmit","event","form","currentTarget","checkValidity","preventDefault","stopPropagation","elements","name","email","message","value","persist","ok","Error","status","statusText","target","reset"],"sources":["/Users/anorak/Desktop/portfolio/src/components/ContactForm.jsx"],"sourcesContent":["import React from \"react\";\nimport { useAppContext } from \"../appContext\";\n// Data\nimport { formspreeUrl } from \"../data\";\n// Components\nimport { Alert, Button, Form, Spinner } from \"react-bootstrap\";\n\nexport default function ContactForm() {\n  const [isValidated, setIsValidated] = React.useState(false);\n  const [isProcessing, setIsProcessing] = React.useState(false);\n  const [success, setSuccess] = React.useState(false);\n  const [danger, setDanger] = React.useState(false);\n  const [dangerMessage, setDangerMessage] = React.useState(null);\n  const { theme } = useAppContext();\n\n  async function postData(data) {\n    const response = await fetch(formspreeUrl, {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    return response;\n  }\n\n  async function handleSubmit(event) {\n    const form = event.currentTarget;\n    setSuccess(false);\n    setDanger(false);\n    setDangerMessage(null);\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    setIsValidated(true);\n    const { name, email, message } = form.elements;\n    const data = {\n      name: name.value,\n      email: email.value,\n      message: message.value,\n    };\n    if (form.checkValidity()) {\n      event.preventDefault();\n      event.persist();\n      setIsProcessing(true);\n      try {\n        const response = await postData(data);\n        if (!response.ok) {\n          throw new Error(\n            `${response.status} ${response.statusText}, check formspreeUrl in data.js`\n          );\n        }\n        setIsProcessing(false);\n        setIsValidated(false);\n        event.target.reset();\n        setSuccess(true);\n      } catch (error) {\n        setIsProcessing(false);\n        setIsValidated(false);\n        event.target.reset();\n        setDangerMessage(error.message);\n        setDanger(true);\n      }\n    }\n  }\n\n  return (\n    <>\n      <Form noValidate validated={isValidated} onSubmit={handleSubmit}>\n        <Form.Group className=\"mx-auto mb-3 form-group\" controlId=\"name\">\n          <Form.Label>Phone & Whatsapp: Zero Zero Three Four 661023622</Form.Label>\n          {/* <Form.Control required type=\"text\" placeholder=\"Your name\" />\n          <Form.Control.Feedback type=\"invalid\">\n            <h5>Name must be at least one character.</h5>\n          </Form.Control.Feedback> */}\n        </Form.Group>\n        <Form.Group className=\"mx-auto mb-3 form-group\" controlId=\"email\">\n          <Form.Label>Email: sebastian.sibila at gmail.com</Form.Label>\n          {/* <Form.Control\n            required\n            pattern=\"^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$\"\n            placeholder=\"someone@something.com\"\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            <h5>Please enter a valid email.</h5>\n          </Form.Control.Feedback> */}\n        </Form.Group>\n        {/* <Form.Group className=\"mx-auto mb-3 form-group\" controlId=\"message\">\n          <Form.Label>Message</Form.Label>\n          <Form.Control required as=\"textarea\" placeholder=\"Your message...\" />\n          <Form.Control.Feedback type=\"invalid\">\n            <h5>Please provide a valid message.</h5>\n          </Form.Control.Feedback>\n        </Form.Group> */}\n        {/* <Form.Group className=\"mx-auto text-center form-group\">\n          {formspreeUrl && (\n            <Button\n              size=\"lg\"\n              variant={theme === \"light\" ? \"outline-dark\" : \"outline-light\"}\n              type=\"submit\"\n              disabled={isProcessing}\n              className=\"my-3\"\n            >\n              Submit{\" \"}\n              {isProcessing && (\n                <Spinner animation=\"border\" variant=\"success\" size=\"sm\" />\n              )}\n            </Button>\n          )}\n\n          <Alert\n            show={success}\n            variant=\"success\"\n            onClose={() => setSuccess(false)}\n            dismissible\n          >\n            <Alert.Heading>Success! I will contact you soon.</Alert.Heading>\n          </Alert>\n          <Alert\n            show={danger}\n            variant=\"danger\"\n            onClose={() => setDanger(false)}\n            dismissible\n          >\n            <Alert.Heading>{dangerMessage}</Alert.Heading>\n          </Alert>\n          <Alert show={!formspreeUrl} variant=\"danger\">\n            <Alert.Heading>\n              You must provide a valid formspree url in data.js\n            </Alert.Heading>\n          </Alert>\n        </Form.Group> */}\n      </Form>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}