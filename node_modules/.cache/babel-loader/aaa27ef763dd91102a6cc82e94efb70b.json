{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anorak/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anorak/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";// Data\nimport{githubUsername}from\"../data\";var initialState={isLoading:true,error:\"\",data:[]};export var url=\"https://api.github.com/users/\".concat(githubUsername);export var fetchGitHubInfo=createAsyncThunk(\"home/fetchGitHubInfo\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(thunkApi,_ref){var rejectWithValue,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rejectWithValue=_ref.rejectWithValue;_context.prev=1;_context.next=4;return fetch(url).then(function(res){if(!res.ok){throw new Error(res.status);}return res;});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;return _context.abrupt(\"return\",data);case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",rejectWithValue(\"Error: \".concat(_context.t0.message,\", check username in data.js (currently \").concat(githubUsername,\")\")));case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());export var homeSlice=createSlice({name:\"home\",initialState:initialState,extraReducers:function extraReducers(builder){builder.addCase(fetchGitHubInfo.pending,function(state){state.isLoading=true;state.error=\"\";}).addCase(fetchGitHubInfo.fulfilled,function(state,action){state.isLoading=false;state.data=action.payload;}).addCase(fetchGitHubInfo.rejected,function(state,action){state.isLoading=false;state.error=action.payload;console.log(state.error);});}});export var selectIsLoading=function selectIsLoading(state){return state.home.isLoading;};export var selectError=function selectError(state){return state.home.error;};export var selectData=function selectData(state){return state.home.data;};export default homeSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","githubUsername","initialState","isLoading","error","data","url","fetchGitHubInfo","thunkApi","rejectWithValue","fetch","then","res","ok","Error","status","response","json","message","homeSlice","name","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","console","log","selectIsLoading","home","selectError","selectData","reducer"],"sources":["/Users/anorak/Desktop/portfolio/src/pages/homeSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n// Data\nimport { githubUsername } from \"../data\";\n\nconst initialState = {\n  isLoading: true,\n  error: \"\",\n  data: [],\n};\n\nexport const url = `https://api.github.com/users/${githubUsername}`;\n\nexport const fetchGitHubInfo = createAsyncThunk(\n  \"home/fetchGitHubInfo\",\n  async (thunkApi, { rejectWithValue }) => {\n    try {\n      const response = await fetch(url).then(function (res) {\n        if (!res.ok) {\n          throw new Error(res.status);\n        }\n        return res;\n      });\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      return rejectWithValue(\n        `Error: ${err.message}, check username in data.js (currently ${githubUsername})`\n      );\n    }\n  }\n);\n\nexport const homeSlice = createSlice({\n  name: \"home\",\n  initialState,\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchGitHubInfo.pending, (state) => {\n        state.isLoading = true;\n        state.error = \"\";\n      })\n      .addCase(fetchGitHubInfo.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.data = action.payload;\n      })\n      .addCase(fetchGitHubInfo.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload;\n        console.log(state.error);\n      });\n  },\n});\n\nexport const selectIsLoading = (state) => state.home.isLoading;\nexport const selectError = (state) => state.home.error;\nexport const selectData = (state) => state.home.data;\n\nexport default homeSlice.reducer;\n"],"mappings":"0PAAA,OAASA,gBAAT,CAA2BC,WAA3B,KAA8C,kBAA9C,CACA;AACA,OAASC,cAAT,KAA+B,SAA/B,CAEA,GAAMC,aAAY,CAAG,CACnBC,SAAS,CAAE,IADQ,CAEnBC,KAAK,CAAE,EAFY,CAGnBC,IAAI,CAAE,EAHa,CAArB,CAMA,MAAO,IAAMC,IAAG,wCAAmCL,cAAnC,CAAT,CAEP,MAAO,IAAMM,gBAAe,CAAGR,gBAAgB,CAC7C,sBAD6C,6FAE7C,iBAAOS,QAAP,2JAAmBC,eAAnB,MAAmBA,eAAnB,uCAE2BC,MAAK,CAACJ,GAAD,CAAL,CAAWK,IAAX,CAAgB,SAAUC,GAAV,CAAe,CACpD,GAAI,CAACA,GAAG,CAACC,EAAT,CAAa,CACX,KAAM,IAAIC,MAAJ,CAAUF,GAAG,CAACG,MAAd,CAAN,CACD,CACD,MAAOH,IAAP,CACD,CALsB,CAF3B,QAEUI,QAFV,qCAQuBA,SAAQ,CAACC,IAAT,EARvB,QAQUZ,IARV,+CASWA,IATX,4FAWWI,eAAe,kBACV,YAAIS,OADM,mDAC2CjB,cAD3C,MAX1B,uEAF6C,oEAAxC,CAoBP,MAAO,IAAMkB,UAAS,CAAGnB,WAAW,CAAC,CACnCoB,IAAI,CAAE,MAD6B,CAEnClB,YAAY,CAAZA,YAFmC,CAGnCmB,aAAa,CAAE,uBAACC,OAAD,CAAa,CAC1BA,OAAO,CACJC,OADH,CACWhB,eAAe,CAACiB,OAD3B,CACoC,SAACC,KAAD,CAAW,CAC3CA,KAAK,CAACtB,SAAN,CAAkB,IAAlB,CACAsB,KAAK,CAACrB,KAAN,CAAc,EAAd,CACD,CAJH,EAKGmB,OALH,CAKWhB,eAAe,CAACmB,SAL3B,CAKsC,SAACD,KAAD,CAAQE,MAAR,CAAmB,CACrDF,KAAK,CAACtB,SAAN,CAAkB,KAAlB,CACAsB,KAAK,CAACpB,IAAN,CAAasB,MAAM,CAACC,OAApB,CACD,CARH,EASGL,OATH,CASWhB,eAAe,CAACsB,QAT3B,CASqC,SAACJ,KAAD,CAAQE,MAAR,CAAmB,CACpDF,KAAK,CAACtB,SAAN,CAAkB,KAAlB,CACAsB,KAAK,CAACrB,KAAN,CAAcuB,MAAM,CAACC,OAArB,CACAE,OAAO,CAACC,GAAR,CAAYN,KAAK,CAACrB,KAAlB,EACD,CAbH,EAcD,CAlBkC,CAAD,CAA7B,CAqBP,MAAO,IAAM4B,gBAAe,CAAG,QAAlBA,gBAAkB,CAACP,KAAD,QAAWA,MAAK,CAACQ,IAAN,CAAW9B,SAAtB,EAAxB,CACP,MAAO,IAAM+B,YAAW,CAAG,QAAdA,YAAc,CAACT,KAAD,QAAWA,MAAK,CAACQ,IAAN,CAAW7B,KAAtB,EAApB,CACP,MAAO,IAAM+B,WAAU,CAAG,QAAbA,WAAa,CAACV,KAAD,QAAWA,MAAK,CAACQ,IAAN,CAAW5B,IAAtB,EAAnB,CAEP,cAAec,UAAS,CAACiB,OAAzB"},"metadata":{},"sourceType":"module"}